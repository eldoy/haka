window.q=function(e,t,n){return"function"==typeof t&&(n=t,t=void 0),"string"==typeof e&&(e=(t&&q(t)||document).querySelector(e)),"function"==typeof n&&n(e,t),e},window.qa=function(e,t,n){"function"==typeof t&&(n=t,t=void 0);var r=(t&&q(t)||document).querySelectorAll(e);if("function"==typeof n)for(var o=0;o<r.length;o++)n(r[o],t);return r},window.esc=function(e){return"string"!=typeof e?e:e.replace(/[&<>'"]/g,e=>({"<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;","&":"&amp;"})[e]||e)},window.raw=function(e){return"string"!=typeof e?e:e.replace(/&lt;|&gt;|&#39;|&quot;|&amp;/g,e=>({"&lt;":"<","&gt;":">","&#39;":"'","&quot;":'"',"&amp;":"&"})[e]||e)},window.css=function(e,t){var n=q(e);if(!n)return null;if("string"==typeof t){if(!(-1<t.indexOf(":")))return n.style[t];n.style.cssText=t}else for(var r in t)n.style[r]=t[r];return n},window.html=function(e,t,n){e=q(e);return e?void 0===t?e.innerHTML:(n?"r"==n[0]?e.outerHTML=t:e.insertAdjacentHTML(("b"==n[0]?"beforebegin":"a"==n[0]&&"afterend")||("t"==n[0]?"afterbegin":"e"==n[0]&&"beforeend"),t):e.innerHTML=t,e):null},window.text=function(e,t){e=q(e);return e?void 0===t?e.textContent:(e.textContent=t,e):null},window.attr=function(e,t,n){var r=q(e);if(!r)return null;if("string"==typeof t){if(void 0===n)return r.getAttribute(t);r.setAttribute(t,n)}else for(var o in t)null==t[o]?r.removeAttribute(o):r.setAttribute(o,t[o]);return r},window.time=function(e,t){if(!e)return"";"string"==typeof e&&(e=new Date(e));var n,r=(t=(t="string"==typeof t?{lang:t}:t)||{}).lang||"en",r=(delete t.lang,new Intl.DateTimeFormat(r,t)),o=t.format;return o?(n={},r.formatToParts(e).forEach(function(e){n[e.type]=e.value}),(o.match(/%[A-z]+/gi)||[]).forEach(function(e){var t=e.slice(1).toLowerCase(),t=n[t];t&&("string"==typeof t&&/[A-Z]/.test(e[1])&&(t=t[0].toUpperCase()+t.slice(1)),o=o.replace(e,t))}),o):r.format(e)},window.num=function(e,t){"string"==typeof e&&(e=parseFloat(e.replace(/_/g,"")));var n=(t=(t="string"==typeof t?{lang:t}:t)||{}).lang||"en";return delete t.lang,new Intl.NumberFormat(n,t).format(e)},window.params=function(e){if(null==e)return"";if("string"!=typeof e)return e=parseInt(e||0)+1,location.pathname.split("/")[e];e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");e=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null!=e?decodeURIComponent(e[1].replace(/\+/g," ")):""},window.cookie=function(e,t,n){if(void 0===t)return(t=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)"))?decodeURIComponent(t[2]):null;n=n||{},null===t&&(t="",n.days=-1);var r=n.days||30,o=n.path||"/",i=n.domain?";domain="+n.domain:"",a=n.sameSite||"Lax",l=n.httpOnly?";HttpOnly":"",n=n.secure?";Secure":"",s=new Date;s.setTime(s.getTime()+864e5*r),document.cookie=e+"="+encodeURIComponent(t)+";path="+o+i+";expires="+s.toUTCString()+";SameSite="+a+l+n},window.store=function(t,e){function n(){var e=sessionStorage.getItem(t);if(null!=e)return JSON.parse(e)}var r;return t?null===e?(r=n(),sessionStorage.removeItem(t),r):null!=e?(sessionStorage.setItem(t,JSON.stringify(e)),e):n():sessionStorage.clear()},window.serialize=function(e){if(!(e=q(e)))return{};var t={};function n(e){var t,n=e.value||e.getAttribute("data-default");if(null!=n)return"array"==(e=e.getAttribute("data-type")||e.type)?"[]"==n?[]:n.split(",").map(e=>e.trim()):"number"==e?+n:"date"==e?(t=Date.parse(n)||(new Date).getTime(),new Date(t)):"null"==e?null:"bool"==e?!(-1<["false","0","off"].indexOf(n)||!n):n}for(var r=0;r<e.elements.length;r++){var o,i=e.elements[r];if(["file","reset","submit","button"].indexOf(i.type)<0&&i.name&&!i.disabled)if("select-multiple"==i.type){for(var a=0,l=[];a<i.options.length;a++){var s=i.options[a];s.selected&&l.push(n(s))}t[i.name]=l}else"checkbox"==i.type?(t[o=i.name]||(t[o]=[]),i.checked&&t[o].push(n(i))):"radio"==i.type&&!i.checked||void 0===(o=n(i))||(t[i.name]=o)}return t},window.flash=function(e,t){t=t||{};var n=q(t.el||"#flash"),r=t.time||5e3,o=t.name||"flash";return n?(void 0!==window.__$flash&&clearTimeout(window.__$flash),e=(e||cookie(o)||"").trim(),cookie(o,null),0!=t.scroll&&scroll(0,0),t.class&&n.classList.add(t.class),n.textContent=e,n.style.opacity=1,r&&(window.__$flash=setTimeout(function(){n.style.opacity=0,t.class&&n.classList.remove(t.class)},r)),n):null};